<!-- Floating Feedback Button -->
<button onclick="openFeedback()" class="floating-feedback-button" aria-label="Open feedback form">
  ðŸ’¬ Give Feedback
</button>

<!-- Feedback Modal -->
<div id="feedbackModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="feedbackTitle">
  <div class="modal-box">
    <span class="close-button" onclick="closeFeedback()" tabindex="0" aria-label="Close feedback form">Ã—</span>
    <h2 id="feedbackTitle" class="text-center mb-3">Share Your Feedback</h2>
    <form id="feedbackForm" onsubmit="submitFeedback(event)">
      {% csrf_token %}
      <input type="text" name="name" placeholder="Name" required autocomplete="name">
      <input type="text" name="contact_number" placeholder="Contact Number" required autocomplete="tel">
      <input type="email" name="email" placeholder="Email" required autocomplete="email">
      <select name="service_used" required>
        <option value="">Select a service</option>
        <option value="1">Respite Care</option>
        <option value="2">Wellbeing Support</option>
        <option value="3">Parent Workshops</option>
      </select>
      <textarea name="message" placeholder="Your Message" required rows="4"></textarea>
      <div id="feedbackMessage" class="hidden" aria-live="polite"></div>
      <button type="submit">Submit Feedback</button>
    </form>
    <div id="thankYouAnimation" style="display:none;justify-content:center;align-items:center;flex-direction:column;height:180px;">
      <div style="font-size:2.2rem;line-height:1.2;">âœ¨ Thank you for your feedback! âœ¨</div>
      <div class="sparkle-row" style="margin-top:18px;">
        <span style="font-size:2rem;color:#ffd700;animation:sparkle 1.2s infinite alternate;">âœ¨</span>
        <span style="font-size:2rem;color:#00bfae;animation:sparkle 1.2s 0.3s infinite alternate;">âœ¨</span>
        <span style="font-size:2rem;color:#ffd700;animation:sparkle 1.2s 0.6s infinite alternate;">âœ¨</span>
      </div>
    </div>
  </div>
</div>
